Solve this complex problem using a systematic approach:

STEP 1: Launch investigator subagent to analyze the codebase and identify all related files.

STEP 2: Launch code-flow-mapper subagent to trace execution paths and dependencies.

STEP 3: Launch planner subagent to create a detailed implementation plan based on the investigation and flow analysis.

STEP 4: Enter plan mode and present the plan to the user for review and approval.

Problem: $ARGUMENTS
